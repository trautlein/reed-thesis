{
    "collab_server" : "",
    "contents" : "library(ggplot2)\nlibrary(dplyr)\n\nsetwd(\"~/Insync/thesis/\")\n#setwd(\"/Volumes/TRAUTLEIN/thesis\")\nd <- read.csv(\"~/Insync/thesis/data/SenateData002.csv\")\n#d <- read.csv(\"data/SenateData002.csv\")\nd <- d[,c(\"Cong.\",\"ICPSR\", \"State.Code\", \"State\", \"Party\", \"Name\", \"X1st.Dim.\", \"X2nd.Dim.\", \"Role\")]\n\nd <- dplyr::rename(d, cong = Cong., \n                   icpsr = ICPSR,\n                   statecode = State.Code,\n                   state = State, \n                   party = Party,\n                   name = Name, \n                   ideo = X1st.Dim., \n                   x2 = X2nd.Dim.,\n                   role = Role)\nnames(d)\n\nstart_cong <- 82\n\nd1 <- d %>% # strips out 3rd party, before cong 60, make party variable D or R instead of 100 or 200\n  mutate(leader = ifelse(role == \"\", NA, \"Y\")) %>%\n  filter((party == 100 | party == 200) & cong >= start_cong) %>%\n  mutate(party2 = ifelse(party == 100, \"D\",\"R\")) %>%\n  select(-party) %>%\n  rename(party = party2)\n\n\n\n\n#< Make party_cong_mean variable and ...\nparty_means <- data.frame(matrix(NA, nrow = 113, ncol = 0))\nparty_means$D     <- rep(NA, 113)\nparty_means$R     <- rep(NA, 113)\nparty_means$R_del <- rep(NA, 113)\nparty_means$D_del <- rep(NA, 113)\n\nparty_means2 <- d1 %>% group_by(cong, party) %>%\n  summarize(mean_ideo = mean(ideo))\n\nfor(i in (start_cong+1):113) {\n  party_means$D[i]  <- mean(dplyr::filter(d1, cong == i & party == \"D\")$ideo)\n  party_means$R[i]  <- mean(dplyr::filter(d1, cong == i & party == \"R\")$ideo)\n  party_means$D_del[i] <- party_means$D[i] - party_means$D[i-1]\n  party_means$R_del[i] <- party_means$R[i] - party_means$R[i-1]\n}\n\nd2 <- dplyr::mutate(d1, party_cong_mean = ifelse(party==\"D\", \n                                                 party_means$D[cong], \n                                                 party_means$R[cong]))\n\nd2 <- dplyr::mutate(d2, party_cong_mean_dif = ifelse(party==\"D\", \n                                                 party_means$D_del[cong], \n                                                 party_means$R_del[cong])) #>\n\n#make last_cong_ideo variable\n\nd2 <- dplyr:: mutate(d2, last_cong_ideo = ifelse(cong > start_cong,\n                                                 #ideo[cong - 1],\n  filter(d2, cong = cong - 1) %>% select(ideo),\n                                                 NA))\n\nd2$last_cong_ideo <- \n\n\n\n\n\n\n\n\n\n\n\n\n#d2 <- dplyr::mutate(d2, person_dif = ideo$cong - ideo$(cong-1))\n\n#for(i in 1:length(d1)) {\n#  ifelse(d1$role[i] == \"\", d1$role <- NA, d1$role <- d1$role)\n#}\n\nggplot(dplyr::filter(d2, cong > 90), aes(cong, ideo, color = party)) + geom_point() +\n  scale_color_manual(values=c(\"blue\", \"red\"))\n\n\nggplot(dplyr::filter(d1, cong > 90), aes(cong, ideo, color = party)) + geom_point() +\n  scale_color_manual(values=c(\"blue\", \"red\"))\n\n\nleahy <- dplyr::filter(d, icpsr == 14307)\nggplot(leahy, aes(cong, ideo)) + geom_point()\n\nggplot(dplyr::filter(d1, cong >= 110), aes(ideo, x2, color=party)) + geom_point() +\n  scale_color_manual(values=c(\"blue\", \"red\"))\n\ncong113 <- dplyr::filter(d1, cong == 113)\nggplot(cong113, aes(ideo, color = party)) + geom_histogram(binwidth = 0.025)",
    "created" : 1458168184930.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3830635386",
    "id" : "157A8454",
    "lastKnownWriteTime" : 1458168280,
    "last_content_update" : 1458169959220,
    "path" : "/Volumes/TRAUTLEIN/thesis/rcode/main_code.R",
    "project_path" : "main_code.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}